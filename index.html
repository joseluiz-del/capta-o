<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Consulta CE (Siscomex)</title>

<style>
:root{
  --bg:#f6f9ff; --card:#ffffff; --text:#0f2442; --muted:#6d7e96;
  --primary:#2f7df6; --stroke:#d9e3f7; --table-head:#f0f6ff;
  --ok:#16a34a; --warn:#f59e0b; --bad:#ef4444;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);font:14px/1.45 system-ui;color:var(--text)}
.app{max-width:1320px;margin:auto;padding:20px}

header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
h1{margin:0;font-size:20px}
.actions{display:flex;gap:10px}
.btn{padding:8px 14px;border-radius:10px;border:1px solid var(--stroke);background:#fff;cursor:pointer}
.btn.primary{background:var(--primary);color:#fff;border-color:#0a69e4}

.card{background:var(--card);border:1px solid var(--stroke);border-radius:14px;padding:16px;margin-bottom:16px}
h2{font-size:13px;text-transform:uppercase;color:#5e7390;letter-spacing:.08em;margin:0 0 12px}

.form-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
.col-3{grid-column:span 3}
.col-4{grid-column:span 4}
.col-6{grid-column:span 6}
.col-9{grid-column:span 9}
.col-12{grid-column:span 12}

label{font-size:12px;color:#5f7088}
input,select{width:100%;padding:10px;border:1px solid var(--stroke);border-radius:10px;background:#fbfdff}

.helper{font-size:12px;color:var(--muted)}
.spacer{height:10px}

/* Accordion */
.accordion{border:1px solid var(--stroke);border-radius:12px;overflow:hidden}
.accordion-header{padding:12px 14px;background:#eef3ff;cursor:pointer;display:flex;justify-content:space-between;font-weight:600}
.accordion-body{display:none;padding:14px}
.accordion.open .accordion-body{display:block}

/* Upload */
.upload-box{border:2px dashed var(--stroke);border-radius:12px;padding:18px;text-align:center;background:#fbfdff;cursor:pointer}
.upload-box:hover{background:#f1f6ff}
.upload-box input{display:none}

/* Tabs */
.tabs{display:flex;gap:6px;margin-bottom:12px;flex-wrap:wrap}
.tab{padding:10px 14px;border:1px solid var(--stroke);border-bottom:none;border-radius:10px 10px 0 0;background:#e7efff;cursor:pointer}
.tab.active{background:#fff;font-weight:600}
.tab-content{display:none}
.tab-content.active{display:block}

/* Table */
.table-wrap{border:1px solid var(--stroke);border-radius:12px;overflow:auto}
table{width:100%;border-collapse:collapse}
th,td{padding:10px 12px;border-bottom:1px solid var(--stroke)}
th{background:var(--table-head);font-size:12px;text-transform:uppercase}

/* Pills */
.pill{padding:3px 10px;border-radius:999px;font-size:12px;border:1px solid var(--stroke)}
.status-ok{background:#d1fae5;color:#065f46}
.status-warn{background:#ffedd5;color:#7c2d12}
.status-bad{background:#fee2e2;color:#991b1b}
</style>
</head>

<body>
<div class="app">

<header>
  <h1>Consulta CE (Siscomex)</h1>
  <div class="actions">
    <button class="btn">Limpar</button>
    <button class="btn">Exportar</button>
    <button class="btn primary">Consultar Siscomex</button>
  </div>
</header>

<!-- PARÃ‚METROS -->
<div class="card">
<h2>ParÃ¢metros de Pesquisa</h2>

<div class="form-grid">
  <div class="col-3">
    <label>Tipo de Chave</label>
    <select>
      <option>ContÃªiner</option><option>B/L</option><option>CE</option><option>RUC</option>
    </select>
  </div>
  <div class="col-9">
    <label>Valor</label>
    <input placeholder="Ex.: MSKU1234567 ou ZIMABC12345 ou CE2025BR000012345">
  </div>
  <div class="col-4">
    <label>Filtro (Porto / Recinto)</label>
    <input placeholder="Ex.: BRSSZ / SGIPA">
  </div>
  <div class="col-4">
    <label>VigÃªncia / PerÃ­odo</label>
    <input placeholder="Ex.: 01/01/2025 - 31/12/2025">
  </div>
  <div class="col-4">
    <label>Escopo</label>
    <select>
      <option>Completo (CE + Itens + ContÃªineres + Eventos)</option>
      <option>Apenas CE</option>
      <option>CE + ContÃªineres</option>
      <option>CE + Eventos</option>
    </select>
  </div>
</div>

<div class="spacer"></div>
<div class="helper">Atalho: <b>Ctrl + K</b> â€¢ Suporta ContÃªiner, B/L, CE e RUC.</div>

<div class="spacer"></div>

<!-- DOCUMENTOS -->
<div class="accordion" id="accDocs">
  <div class="accordion-header">
    <span>ðŸ“‚ Documentos (Upload Inteligente)</span><span id="accIcon">â–¼</span>
  </div>
  <div class="accordion-body">
    <div class="upload-box" id="uploadBox">
      Clique ou arraste documentos (PDF / Imagem)
      <input type="file" id="uploadDocs" multiple>
    </div>
    <div class="spacer"></div>
    <div class="table-wrap">
      <table>
        <thead>
          <tr><th>Tipo</th><th>Arquivo</th><th>VÃ­nculo</th><th>Data</th><th>Status</th></tr>
        </thead>
        <tbody id="tbodyDocs"></tbody>
      </table>
    </div>
  </div>
</div>
</div>

<!-- RESUMO -->
<div class="card">
<h2>Resumo da Consulta</h2>
<div style="display:flex;gap:10px;flex-wrap:wrap">
  <span class="pill">CE: â€”</span><span class="pill">Status: â€”</span>
  <span class="pill">BL: â€”</span><span class="pill">Navio/Viagem: â€”</span>
  <span class="pill">Portos: â€”</span><span class="pill">Atualizado em: â€”</span>
</div>
</div>

<!-- DETALHES -->
<div class="card">
<h2>Detalhes</h2>

<div class="tabs">
  <div class="tab active" data-tab="geral">Geral</div>
  <div class="tab" data-tab="itens">Itens / NCM</div>
  <div class="tab" data-tab="cntr">ContÃªineres</div>
  <div class="tab" data-tab="eventos">Eventos</div>
  <div class="tab" data-tab="docs">Documentos</div>
  <div class="tab" data-tab="compliance">Compliance</div>
  <div class="tab" data-tab="json">Payload (JSON)</div>
</div>

<div class="tab-content active" id="geral">
  <div class="form-grid">
    <div class="col-3"><label>CE Mercante</label><input></div>
    <div class="col-3"><label>RUC</label><input></div>
    <div class="col-3"><label>Grau</label><input></div>
    <div class="col-3"><label>SituaÃ§Ã£o</label><input></div>

    <div class="col-4"><label>Master BL</label><input></div>
    <div class="col-4"><label>House BL</label><input></div>
    <div class="col-4"><label>Manifesto</label><input></div>

    <div class="col-4"><label>Porto Origem</label><input></div>
    <div class="col-4"><label>Porto Destino</label><input></div>
    <div class="col-4"><label>Recinto</label><input></div>

    <div class="col-6"><label>Armador</label><input></div>
    <div class="col-6"><label>Agente</label><input></div>

    <div class="col-6"><label>ConsignatÃ¡rio</label><input></div>
    <div class="col-6"><label>Notificar</label><input></div>

    <div class="col-3"><label>Navio</label><input></div>
    <div class="col-3"><label>Viagem</label><input></div>
    <div class="col-3"><label>ETA</label><input></div>
    <div class="col-3"><label>ETD</label><input></div>
  </div>
</div>

<div class="tab-content" id="itens"><div class="table-wrap"><table><thead><tr><th>#</th><th>NCM</th><th>DescriÃ§Ã£o</th><th>Qtd</th><th>Unid</th><th>Peso</th></tr></thead><tbody></tbody></table></div></div>
<div class="tab-content" id="cntr"><div class="table-wrap"><table><thead><tr><th>ContÃªiner</th><th>Tam</th><th>Tipo</th><th>IMO</th><th>UN</th><th>Peso</th><th>Status</th></tr></thead><tbody></tbody></table></div></div>
<div class="tab-content" id="eventos"><div class="table-wrap"><table><thead><tr><th>Data</th><th>Evento</th><th>Origem</th><th>Detalhe</th></tr></thead><tbody></tbody></table></div></div>
<div class="tab-content" id="docs"><div class="helper">Documentos exibidos no bloco superior.</div></div>
<div class="tab-content" id="compliance">
  <span class="pill status-ok">Sem bloqueios</span>
  <span class="pill status-warn">ANVISA: anÃ¡lise</span>
  <span class="pill status-bad">IMDG: pendente</span>
</div>
<div class="tab-content" id="json">
<pre style="background:#fbfdff;border:1px solid var(--stroke);border-radius:10px;padding:12px">
{/* Payload Siscomex */}
</pre>
</div>
</div>

<!-- INTEGRAÃ‡ÃƒO -->
<div class="card">
<h2>IntegraÃ§Ã£o</h2>
<div style="display:flex;gap:10px;flex-wrap:wrap">
  <span class="pill">Ãšltima consulta: â€”</span>
  <span class="pill">Tempo de resposta: â€”</span>
  <span class="pill">Status API: â€”</span>
  <span class="pill">Chave API: ****</span>
</div>
<div class="spacer"></div>
<div class="helper">IntegraÃ§Ã£o Siscomex simulada atÃ© conexÃ£o real.</div>
</div>

</div>

<script>
// Accordion
const acc=document.getElementById('accDocs');
acc.querySelector('.accordion-header').onclick=()=>{
  acc.classList.toggle('open');
  document.getElementById('accIcon').textContent=acc.classList.contains('open')?'â–²':'â–¼';
};

// Tabs
document.querySelectorAll('.tab').forEach(t=>{
  t.onclick=()=>{
    document.querySelectorAll('.tab,.tab-content').forEach(e=>e.classList.remove('active'));
    t.classList.add('active');
    document.getElementById(t.dataset.tab).classList.add('active');
  };
});

// Upload intelligence
function tipoDoc(n){n=n.toLowerCase();if(n.includes('di'))return'DI';if(n.includes('du'))return'DU-E';if(n.includes('nf'))return'NF-e';if(n.includes('bl'))return'BL';return'Outro';}
function vinculoDoc(n){n=n.toLowerCase();if(n.includes('ce'))return'CE';if(n.includes('bl'))return'BL';if(n.match(/[a-z]{4}\d{7}/))return'ContÃªiner';return'Manual';}
function statusDoc(f){if(f.type==='application/pdf')return'Validado';if(f.type.startsWith('image/'))return'Pendente';return'Rejeitado';}

const upload=document.getElementById('uploadDocs');
const box=document.getElementById('uploadBox');
const tbody=document.getElementById('tbodyDocs');

box.onclick=()=>upload.click();
upload.onchange=()=>{
  [...upload.files].forEach(f=>{
    const st=statusDoc(f);
    tbody.insertAdjacentHTML('beforeend',`
      <tr>
        <td>${tipoDoc(f.name)}</td>
        <td>${f.name}</td>
        <td>${vinculoDoc(f.name)}</td>
        <td>${new Date().toISOString().slice(0,10)}</td>
        <td><span class="pill ${st==='Validado'?'status-ok':st==='Pendente'?'status-warn':'status-bad'}">${st}</span></td>
      </tr>`);
  });
  upload.value='';
};
</script>

</body>
</html>
